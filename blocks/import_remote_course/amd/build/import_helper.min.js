define(["jquery","jqueryui","core/ajax"],function(a,b,c){var d=function(){};return d.prototype.init=function(b){a("#modlist, #section").draggable({scroll:!0}),a(".activityitem").on("dragstart",function(a){a.originalEvent.dataTransfer.setData("text/html",a.target.id)}),a("#newitems").click(function(){a("#newactivitieslist").toggleClass("hidden")}),a("#updateitems").click(function(){a("#updatedactivites").toggleClass("hidden")}),a("li.section").on("drop dragover",function(d){switch(d.type){case"dragover":d.preventDefault();break;case"drop":var e=d.originalEvent.dataTransfer.getData("text/html");if(!a("#"+e).hasClass("activityitem"))break;var f=c.call([{methodname:"block_import_remote_course_activity",args:{cmid:a("#"+e).data("cmid"),courseid:b,sectionid:a(this).attr("id").replace("section-","")}}]);f[0].done(function(a){"success"==a.status&&location.reload()})}})},new d});