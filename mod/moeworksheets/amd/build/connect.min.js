define(["jquery","core/ajax"],function(a,b){var c=function(){};return c.prototype.init=function(){a("#id_contents option").click(function(c){var d=c.target,e=[{methodname:"mod_moeworksheets_get_content_preview",args:{id:a(d).val()}}],f=b.call(e);f[0].done(function(b){a("#htmlcontent").html(""),a("#csscontent").html(""),a("#javascriptcontent").html("");for(var c in b)switch(b[c].type){case 0:a("#htmlcontent").html(b[c].content);break;case 1:return a("#frame").html('<iframe src="'+b[c].content+'"></iframe>'),a("#htmlcontent").html(""),a("#csscontent").html(""),void a("#javascriptcontent").html("");case 3:a("#csscontent").html("<style>"+b[c].content+"</style>");break;case 2:a("#javascriptcontent").html("<script>require(['jquery'], function($) {"+b[c].content+"});</script>")}})})},new c});