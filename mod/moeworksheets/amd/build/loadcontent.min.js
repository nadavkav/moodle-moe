define(["jquery","core/ajax","core/notification"],function(a,b,c){var d=function(){};return d.prototype.init=function(){a(".content").click(function(c){var d=c.target,e=[{methodname:"mod_moeworksheets_get_content_preview",args:{id:a(d).attr("id")}}],f=b.call(e);f[0].done(function(b){a("#htmlcontent").html(""),a("#csscontent").html(""),a("#javascriptcontent").html("");for(var c in b)switch(b[c].type){case 0:a("#htmlcontent").html(b[c].content);break;case 3:a("#csscontent").html("<style>"+b[c].content+"</style>");break;case 2:a("#javascriptcontent").html("<script>"+b[c].content+"</script>")}})}),a("#aprroved").click(function(){var d=[];a('input[type="checkbox"]:checked').each(function(b,c){d.push(a(c).val())});var e=[{methodname:"mod_moeworksheets_add_content_to_subject",args:{ids:d,subjectid:a("heading h2").attr("id")}}],f=b.call(e);f[0].done(function(){c.addNotification({message:M.util.get_string("changessuccessfulsave","mod_moeworksheets"),type:"success"}),a("html, body").animate({scrollTop:a("#user-notifications").offset().top},"fast")})})},new d});