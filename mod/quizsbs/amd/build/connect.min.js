define(["jquery","core/ajax","core/notification","core/templates"],function(a,b,c,d){var e=function(){};return e.prototype.init=function(){a('[name="content"]').click(function(c){var e=c.target,f=[{methodname:"mod_quizsbs_load_connected_content",args:{id:a(e).val()}}],g=b.call(f);g[0].done(function(b){var c=d.render("mod_quizsbs/connectsubject",b);c.done(function(b){a("#subjectlist").html(b),a("#subject"+a('[name="content"]:checked').data("subject")).attr("checked","checked")}),c=d.render("mod_quizsbs/questionlist",b),c.done(function(b){a("#questionlist").html(b)})})}),a("#connectsubject").click(function(){var d=[];a('input[type="checkbox"]:checked').each(function(b,c){d.push(a(c).val())});var e=[{methodname:"mod_quizsbs_add_question_to_content",args:{ids:d,contentid:a('[name="content"]:checked').val(),cmid:a("#contentlist").data("cmid")}}],f=b.call(e);e=[{methodname:"mod_quizsbs_add_subject_to_content",args:{id:a('input[name="subject"]:checked').val(),contentid:a('[name="content"]:checked').val(),cmid:a("#contentlist").data("cmid")}}],f=b.call(e),f[0].done(function(){a('[name="content"]:checked').data("subject",a('input[name="subject"]:checked').val()),c.addNotification({message:M.util.get_string("changessuccessfulsave","mod_quizsbs"),type:"success"}),a("html, body").animate({scrollTop:a("#user-notifications").offset().top},"fast")})})},new e});